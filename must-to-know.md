
## Разниза между версиями PHP
* PHP 5.4
  * Запись массива, без слова `array`, например `['foo', 'bar']`
  * Быстрое получение элемента массива, например `$foo = foo()[0];`
  * Примеси (trait), например `trait Class {}`
  * Доступ к элементу объекта при его создании, например`(new Foo)->method()`

* PHP 5.5
  * Можно применять к результатам функций и выражений `empty()`
  * В конструкции `try / catch` добавили `finally`
  * Для получение имени класса в пространствах можно использовать `FooClass::class`
  * Генераторы `yield`
  
* PHP 5.6
  * Скалярные выражения в константах / свойствах / аргументах функцииconst, например `const PLUS = 1 + 2;`
  
* PHP 7
  * Одновременная проверка `isset` и получение значения, например `$a ?? ''`
  * Одновременное выполнение трех сравнений: больше, равно или меньше, например `$a <=> $b`
  * Группировка пространства имен при помощи `use`, например `use foo\bar\{A, B, C as c};`
  * Новые типы для аргументов методов (функций) `int, float, bool`
  * Новые типы для указание возвращаемых типов для методов (функций) `int, float, bool, array`
  * Анонимные классы, например `$foo = new Foo{};`
  *  Возврат `return` выражений в генераторах `yield ... return 99;`
  
* PHP 7.1
  * Новые тип для указание возвращаемых типов для методов (функций) `void`
  
* PHP 7.2
  * Добавлена возможность перегружать абстрактные методы
  * В ядро PHP добавлена новая библиотека шифрование Libsodium
  
* PHP 7.3
  * Добавлена поддержка конечных запятых в вызовах методов (функций), например `function($arg1, $arg2, $arg3,)`
  * Добавлены новые функции `array_key_first()` и `array_key_last()`
  
* PHP 7.4
 * Добавлены типизированные свойства классов, например `class Foo { public string $foo; public Bar $bar;}`
 
* PHP 8
  * JIT
  * Интерфейс внешних функций Foreign Function Interface)

    Это позволит подключать PHP к нативным библиотекам, написанным на С или С++, без необходимости создавать расширение
  * Асинхронность
  
***

## CGI, FastCGI и FPM

### CGI — Common Gateway Interface

Common Gateway Interface, "общий интерфейс шлюза" — это стандарт,
который описывает, как веб-сервер должен запускать прикладные программы (скрипты),
как должен передавать им параметры HTTP-запроса, как программы должны передавать результаты своей работы веб-серверу.
Прикладную программу взаимодействующую с веб-сервером по протоколу CGI принято называть шлюзом,
хотя более распространено название CGI-скрипт или CGI-программа.
В качестве CGI-программ могут использоваться программы/скрипты написанные на любых языках программирования, как на компилируемых,так и на скриптовых, и даже на shell.

### FastCGI — Fast Common Gateway Interface

Дальнейшее развитие технологии CGI, является более производительным и безопасным, снимает множество ограничений CGI-программ.
FastCGI программа работает следующим образом: программа единожды загружается в память в качестве демона (независимо от HTTP-сервера),
а затем входит в цикл обработки запросов от HTTP-сервера.
Один и тот же процесс обрабатывает несколько различных запросов один за другим, что отличается от работы в CGI-режиме,
когда на каждый запрос создается отдельный процесс, "умирающий" после окончания обработки.
Написание FastCGI программ-демонов сложнее чем CGI, нужны дополнительные библиотеки, зависящие от языка.
Опять же, сама аббревиатура FastCGI это не язык программирования и не отдельная программа, это как и в случае CGI — просто спецификация.
Следует помнить, что при работе PHP в режиме FastCGI в памяти висит сам php интерпретатор, а не какой-то конкретный php-скрипт.

### FPM — Fast Common Gateway Interface Process Manager

Это альтернативная реализация FastCGI режима в PHP с несколькими дополнительными возможностями,
которые обычно используются для высоконагруженных сайтов.
Изначально PHP-FPM представлял из себя набор патчей от Андрея Нигматулина,
которые устраняли ряд проблем, мешающих полноценно использовать PHP в режиме FastCGI (список улучшений).
С версии PHP 5.3 набор патчей включён в ядро, а дополнительные возможности PHP-FPM включаются флагом при компиляции.
PHP-FPM используется в основном в связке с Nginx.

***

## Кеширование опкодов

* OPcache — Zend Opcache
  * Только кэш байткода
  * Начиная с PHP 5.5.0 уже в ядре
* APC — Alternative PHP Cache
  * Это кэш байткода и пользовательских данных
  * Был хорош для PHP 5, для PHP 7 уже все
* APCu — APC User Cache
  * Кэш пользовательских данных
  
***

## HTTP

### Уровни стека TCP / IP (Сетевые модели OSI)

1. Прикладной: HTTP, FTP, POP3, SMTP
2. Транспортный:  TCP, UDP
3. Сетевой: IP
4. Канальный: Проводной (Ethernet) , Беспроводной (Wireless Ethernet (Wi-Fi, 3G))

### Порты

* 80 — порт WEB-сервера
* 443 —  порт WEB-сервера для HTTPS
* 21 — порт FTP сервера (File Transfer Protocol)
* 25 — порт почтового SMTP сервера. (Simple Mail Transfer Protocol)
* 110 — порт POP3 сервера (Post Office Protocol 3)

### Общая структура HTTP запросов и ответов

* Cтрока запроса (Request Line)
* Заголовки запроса (Headers)
* Пустая строка (Spase)
* Тело сообщения (Body)

### Заголовки запроса

* Основные заголовки — обязательно включаются в любое сообщение клиента и сервера
* Заголовки запроса — можно встретить только в запросах от клиента
* Заголовки ответа — можно встретить только в ответах от сервера
* Заголовки сущности — описывают сущность каждого сообщения (может относиться как к клиенту, так и к серверу)

